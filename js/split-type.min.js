!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).SplitType=n()}(this,(function(){"use strict";function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function e(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function i(t){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?e(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var l=["words","chars","lines"],a=[],s=function(){function n(t,e){var o=this;if(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),t&&t instanceof HTMLElement)this.element=t;else{if("string"!=typeof t)throw new Error("Invalid element provided");var l=document.querySelectorAll(t);if(!l.length)throw new Error("No elements found with that selector.");this.element=l}this.settings=i(i({},n.defaults),e||{}),this.splitText=this.settings.types,this.isRTL=this.settings.isRTL,this.lineClass=this.settings.lineClass,this.wordClass=this.settings.wordClass,this.charClass=this.settings.charClass,this.split(),this.elements.forEach((function(t){a.push(t.HTML),t.HTML.dataset.splittype=o.splitText.join(",")}))}var e,o;return e=n,o=[{key:"clearData",value:function(){a=[]}},{key:"setDefaults",value:function(t){return n.defaults=i(i({},n.defaults),t||{}),n.defaults}},{key:"revert",value:function(t){var n=t?"string"==typeof t?document.querySelectorAll(t):t instanceof HTMLElement?[t]:t:document.querySelectorAll("[data-splittype]");r(n).forEach((function(t){var n=a.indexOf(t);if(n>-1){t.innerHTML=t.dataset.originalContent,delete t.dataset.splittype,delete t.dataset.originalContent;var e=t.querySelectorAll("[data-splittype]");e.length&&s.revert(e)}}))}},{key:"split",value:function(t){return new n(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}},{key:"defaults",get:function(){return{types:["lines","words","chars"],lineClass:"line",wordClass:"word",charClass:"char",isRTL:!1}},set:function(t){n._defaults=i(i({},n._defaults),t||{})}}],{key:"init",value:function(){this.words=this.splitText.includes("words")?this.toWords():[],this.chars=this.splitText.includes("chars")?this.toChars():[],this.lines=this.splitText.includes("lines")?this.toLines():[]},key:"isElement",value:function(t){return t instanceof HTMLElement},key:"createElement",value:function(t,n){var e=document.createElement(t);return n&&Object.keys(n).forEach((function(t){e[t]=n[t]})),e},key:"splitTextNodes",value:function(t,n){var e=this,i=[],o=this.createElement("div",{className:n,style:"position: relative"});return t.forEach((function(t){if(t.data){var n=t.data.split(" ").filter((function(t){return t}));i=i.concat(n.map((function(t){return e.createElement("div",{className:e.wordClass,style:"position: relative; display: inline-block;",textContent:t+" "})})))}})),o.innerHTML=i.map((function(t){return t.outerHTML})).join(""),o},key:"toWords",value:function(){var t=this,n=this.element.textContent.trim().split(" ").filter((function(t){return t}));return this.words=n.map((function(n){return{HTML:t.createElement("div",{className:t.wordClass,style:"position: relative; display: inline-block;",textContent:n+" "})}})),this.words},key:"toChars",value:function(){var t=this;return this.chars=this.words.map((function(n){var e=n.HTML.textContent.trim().split("").filter((function(t){return t}));return e.map((function(e){return{HTML:t.createElement("div",{className:t.charClass,style:"position: relative; display: inline-block;",textContent:e})}}))})).flat(),this.chars},key:"toLines",value:function(){var t=this,n=this.createElement("div",{style:"position: relative"});n.innerHTML=this.words.map((function(t){return t.HTML.outerHTML})).join(""),document.body.appendChild(n);var e=n.offsetHeight,i=[],o=[];return this.words.forEach((function(l){var a=l.HTML.getBoundingClientRect().top;a!==e&&(i.push(o),o=[]),o.push(l),e=a})),o.length&&i.push(o),document.body.removeChild(n),this.lines=i.map((function(n){var e=t.createElement("div",{className:t.lineClass,style:"position: relative"});return e.innerHTML=n.map((function(t){return t.HTML.outerHTML})).join(""),{HTML:e,words:n}})),this.lines},key:"split",value:function(){var t=this;this.elements=r(this.element instanceof HTMLElement?[this.element]:this.element).map((function(n){if(n.innerHTML=n.innerHTML.trim(),!n.dataset.splittype){var e=n.innerHTML;n.dataset.originalContent=e}return{HTML:n}})),this.elements.forEach((function(n){t.init.call({element:n.HTML,settings:t.settings,splitText:t.splitText,lineClass:t.lineClass,wordClass:t.wordClass,charClass:t.charClass}),n.HTML.innerHTML="",n.HTML.appendChild(n.HTML.lines[0].HTML)}))}}]&&t(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),n}();return s}));
